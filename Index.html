<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>




<script>

    var STAGE_HEIGHT = 300;
    var STAGE_WIDTH = STAGE_HEIGHT * 1.61803;

    var canvas = null;
    var ctx = null;
    var isRuning = true;
    var lastUpdate = Date.now();



    function gameLoop(){

        // Our test to se if the game has been paused
        if(!isRuning){return;}

        //Bookkeeping (what day is it :) )
        var now = Date.now();
        var td = (now - lastUpdate) / 1000;


        draw();

        // Makes the world go around.
        mozRequestAnimationFrame(gameLoop);

        lastUpdate = now;
    }

    function draw(){
        // Filling the screen with powder blue
        ctx.fillStyle = "#B4D8E7";
        ctx.fillRect(0,0,STAGE_WIDTH,STAGE_HEIGHT);

    }

    function createCanvas(){
        // Create and put a canvas HTML element isnide the document body.
        canvas = document.createElement("canvas");
        canvas.width = STAGE_WIDTH;
        canvas.height = STAGE_HEIGHT;
        document.body.appendChild(canvas);
        // Our drawing handle
        ctx = canvas.getContext("2d");
    }


    function pause(){ isRuning = false;}
    function unPause(){isRuning = true;}


    window.onload = function(){
        createCanvas();
        gameLoop();
    }

    window.addEventListener("focus", function () {unPause()});
    window.addEventListener("blur", function () {pause()});

</script>


</body>
</html>